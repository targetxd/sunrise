<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>i'm alive</title>
<link href="https://fonts.googleapis.com/css2?family=Courier+Prime:wght@400;700&display=swap" rel="stylesheet">
<style>
/* Общие стили */
:root{
  --accent:#7c5cff;
  --glass-bg: rgba(255,255,255,0.04);
  --glass-border: rgba(255,255,255,0.06);
  --text: #000;
  --typewriter-color: #000;
  --lyrics-color: #000;
}
html,body{
  height:100%;
  margin:0;
  background:#000;
  color:var(--text);
  font-family: 'Fixedsys Excelsior 3.01', 'Courier New', monospace;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  overflow:hidden;
}

/* Центрирование контейнера */
.app {
  position:relative;
  min-height:100%;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:40px;
  box-sizing:border-box;
  z-index:2;
}

/* Полупрозрачный прямоугольник */
.box {
  width:min(800px, 98vw); /* увеличено */
  min-height: 340px;       /* увеличено */
  height:auto;
  background: linear-gradient(180deg, rgba(255,255,255,0.012), rgba(255,255,255,0.008)); /* стало ещё прозрачнее */
  border:1px solid var(--glass-border);
  backdrop-filter: blur(8px) saturate(1.05);
  -webkit-backdrop-filter: blur(8px) saturate(1.05);
  border-radius:24px;
  box-shadow: 0 8px 30px rgba(0,0,0,0.7), 0 1px 0 rgba(124,92,255,0.04) inset;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  padding:40px;
  box-sizing:border-box;
}

/* Удаляем аватарку и ник */
.box-left {
  display: none;
}
.box-circle, .box-nickname {
  display: none;
}

/* Стили для иконок ссылок */
.link-icon {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
}
.link-icon img {
  width: 38px;
  height: 38px;
  object-fit: contain;
  margin-bottom: 4px;
  transition: filter 0.2s, transform 0.2s;
  cursor: pointer;
  filter: drop-shadow(0 0 8px rgba(255, 255, 255, 0.18));
}
.link-icon img:hover {
  filter: brightness(1.2) drop-shadow(0 0 16px rgba(124,92,255,0.28));
  transform: scale(1.08);
}
.links {
  display:flex;
  flex-direction:row;
  align-items:center;
  justify-content:center;   /* центрируем по ширине */
  gap:38px;                 /* больше места между элементами */
  flex-wrap:nowrap;         /* запрещаем перенос, оставляем на одной линии */
  overflow-x:hidden;          /* если не помещается — можно прокрутить */
  width:100%;
  margin-top:30px;
}
.links a, .links button {
  color:var(--text);
  text-decoration:none;
  font-weight:600;
  font-size:13px;
  background:transparent;
  border:0;
  padding:6px 8px;
  cursor:pointer;
  color:#000;
  text-shadow:0 0 8px rgba(0,0,0,0.08), 0 0 16px rgba(0,0,0,0.04);
  transition:text-shadow 0.3s;
}
.links a:hover, .links button:hover {
  text-shadow:0 0 12px rgba(0,0,0,0.12), 0 0 24px rgba(0,0,0,0.08);
}

/* надпись внизу о проигрывании или навигации */
.hint {
  position:fixed;
  bottom:20px;
  left:50%;
  transform:translateX(-50%);
  font-size:12px;
  color:rgba(0, 0, 0, 0.4);
  user-select:none;
  pointer-events:none;
  transition:opacity 0.3s;
  z-index:1;
}
.hint.hidden {
  opacity:0;
  display:none;
}

@media (max-width:768px){
  .box { flex-direction:column; gap:20px; padding:24px; }
  .box-left { flex-direction:row; gap:12px; }
  .box-circle { width:70px; height:70px; border-radius:12px; }
  .box-divider { display:none; }
}

/* мобильная версия для очень маленьких экранов */
 @media (max-width:480px){
   .box {
     width:min(100%, 100vw);
     min-height:200px;
     padding:24px 20px;
     margin-top:30px;
   }
   .box-left { gap:12px; }
   .box-circle { width:60px; height:60px; border-radius:10px; }
   .box-nickname { font-size:16px; }
   .links {
     gap:12px 8px;
     margin-top:24px;
     font-size:12px;
     flex-wrap:wrap;
     max-width:150px;
     justify-content:center;
   }
   .links a, .links button { 
     padding:4px 6px;
     font-size:11px;
     text-shadow:0 0 6px rgba(0, 0, 0, 0.2), 0 0 12px rgba(255, 255, 255, 0.08);
     flex:0 0 calc(50% - 6px);
     text-align:center;
     margin:0;
   }
   .links .sep { 
     display:none;
   }
   .hint { font-size:10px; bottom:16px; }
   .nav-hint { font-size:10px; bottom:-24px; }
   .lyrics-randomized, #lyricsRandomized {
     font-size:12px !important;
     padding:0 2vw;
     max-width:98vw;
     word-break:break-word;
   }
 }

 /* надпись под прямоугольником */
 .nav-hint {
   position:absolute;
   bottom:-35px;
   left:50%;
   transform:translateX(-50%);
   font-size:12px;
   color:rgba(0, 0, 0, 0.4);
   user-select:none;
   pointer-events:none;
   white-space:nowrap;
 }
</style>
</head>
<body>
<!-- Фоновое видео -->
<video id="bgVideo" autoplay loop muted playsinline preload="auto"
  style="position:fixed;top:0;left:0;width:100vw;height:100vh;object-fit:cover;z-index:0;pointer-events:none;">
  <source src="background/forest.mp4" type="video/mp4">
</video>

<!-- Текст поверх видео -->
<div class="lyrics-randomized" id="lyricsRandomized"
  style="position:absolute;left:0;right:0;bottom:32px;margin:0 auto;width:98vw;max-width:900px;font-family:'Courier Prime', 'Courier New', monospace;font-size:17px;color: var(--lyrics-color, #fff); /* теперь цвет можно менять через переменную */
letter-spacing:1.2px;text-align:center;pointer-events:none;user-select:none;z-index:1;white-space:pre-line;font-weight:500;text-shadow:0 2px 12px #fff, 0 0 2px #ffffff33;display:flex;justify-content:center;align-items:center;">
</div>

<!-- скрытый аудио плеер для музыки -->
<audio id="bgMusic" style="display:none;" autoplay muted loop preload="auto">
  <source src="music/track.mp3" type="audio/mpeg">
</audio>

<div class="app">
   <div class="box" style="z-index:1;">
     <!-- отдельная зона для текста -->
     <div class="lyrics-zone">
       <div class="typewriter" id="typewriter"></div>
     </div>
     <!-- разделитель (скрыт) -->
     <div class="box-divider"></div>
     
     <!-- ссылки с иконками -->
     <div class="box-right">
       <div class="links" id="linksRow">
         <div class="link-icon">
           <a href="https://www.pinterest.com/imsickwithyou/" target="_blank" rel="noopener">
             <img src="images/Pinterest.png" alt="Pinterest">
           </a>
           <a class="link" href="https://www.pinterest.com/imsickwithyou/" target="_blank" rel="noopener">pinterest</a>
         </div>
         <div class="link-icon">
           <a href="https://www.tiktok.com/@seenthis444ngel" target="_blank" rel="noopener">
             <img src="images/TikTok.png" alt="TikTok">
           </a>
           <a class="link" href="https://www.tiktok.com/@seenthis444ngel" target="_blank" rel="noopener">tiktok</a>
         </div>
         <div class="link-icon">
           <a href="https://twitter.com/" target="_blank" rel="noopener">
             <img src="images/Twitter.png" alt="Twitter">
           </a>
           <a class="link" href="https://twitter.com/" target="_blank" rel="noopener">twitter</a>
         </div>
         <div class="link-icon">
           <a href="https://open.spotify.com/user/" target="_blank" rel="noopener">
             <img src="images/Spotify.png" alt="Spotify">
           </a>
           <a class="link" href="https://open.spotify.com/user/" target="_blank" rel="noopener">spotify</a>
         </div>
         <div class="link-icon">
           <a href="https://soundcloud.com/targetxd" target="_blank" rel="noopener">
             <img src="images/SoundCloud.png" alt="SoundCloud">
           </a>
           <a class="link" href="https://soundcloud.com/targetxd" target="_blank" rel="noopener">soundcloud</a>
         </div>
       </div>
       <!-- надпись под прямоугольником -->
       <div style="display: flex; justify-content: center; align-items: center; margin-top: 18px;">
         <span style="color:#000000;font-family:'Courier Prime','Courier New',monospace;font-size:15px;user-select:none;margin-right:10px;">---------------------</span>
         <a href="about.html" class="about-btn" style="
           display:inline-block;
           padding:8px 22px;
           font-size:14px;
           font-family:'Courier Prime','Courier New',monospace;
           font-weight:600;
           color:#000;
           background:rgba(255,255,255,0.23); /* менее прозрачный фон */
           border:none;
           border-radius:8px;
           box-shadow:none;
           text-decoration:none;
           letter-spacing:1px;
           transition:background 0.2s,box-shadow 0.2s,transform 0.1s;
           cursor:pointer;
           backdrop-filter: blur(2px);
         " 
         onmouseover="this.style.background='rgba(255,255,255,0.32)';this.style.transform='scale(1.04)';"
         onmouseout="this.style.background='rgba(255,255,255,0.23)';this.style.transform='none';"
         >about.me</a>
         <span style="color:#000000;font-family:'Courier Prime','Courier New',monospace;font-size:15px;user-select:none;margin-left:10px;">---------------------</span>
       </div>
       <div class="nav-hint" id="hint">click to play audio</div>
     </div>
   </div>
 </div>

<!-- Удалён дублирующийся блок .lyrics-randomized -->

 <script>
const hint = document.getElementById('hint');

/* автозапуск музыки с autoplay, включение звука при готовности */
window.addEventListener('DOMContentLoaded', () => {
  const bgMusic = document.getElementById('bgMusic');
  if(bgMusic){
    bgMusic.volume = 0.5;
    bgMusic.muted = true;
    bgMusic.play().catch(()=>{});
    bgMusic.addEventListener('error', (e) => {
      console.error('❌ Ошибка загрузки аудио:', bgMusic.error?.message);
    });
    bgMusic.addEventListener('canplay', () => {
      console.log('✓ Аудио готово к проигрыванию');
    });

    let musicPlaying = false;

    document.addEventListener('click', () => {
      if (!musicPlaying) {
        try{
          const audioContext = new (window.AudioContext || window.webkitAudioContext)();
          if(audioContext.state === 'suspended'){
            audioContext.resume().then(() => {
              console.log('✓ AudioContext активирован');
            });
          }
        }catch(e){ /* игнорируем */ }
        bgMusic.muted = false;
        hint.textContent = 'click to stop audio';
        bgMusic.play().catch(()=>{});
        musicPlaying = true;
      } else {
        bgMusic.pause();
        hint.textContent = 'click to play audio';
        musicPlaying = false;
      }
    });
  }
});

/* Typewriter: выводит текст трека, затем убирает, затем "i'm alive" */
window.addEventListener('DOMContentLoaded', () => {
  const el = document.getElementById('typewriter');
  if(!el) return;
  const lyrics = [
    "I have more",
    "To live for",
    "There's a note in a bottle",
    "Washed ashore",
    "I hear waves",
    "Sing my name",
    "Saying no matter how hard",
    "There's a way",
    "Though I cry",
    "All the time",
    "And struggle out of bed",
    "I'm alive",
    "And I'll live",
    "For myself",
    "For the ones that I love",
    "For the ones that I lost",
    "Dragging my foot forward",
    "Laced with scars and wounds that still hurt",
    "It's so unfair that I'm still here",
    "But I know you'd tell me if you were here",
    "To get up and start moving, what do you fear",
    "Everything is as you left it",
    "Brush off the dust, make a wish",
    "Though I cry",
    "All the time",
    "And struggle out of bed",
    "I'm alive",
    "I'm alive",
    "I'm alive",
    "I'm alive",
    "And I'll live (as you left it— you left it)",
    "For myself (everything is as you left it— you left it)",
    "For the ones that I love (everything is as you left it— you left it)",
    "For the ones that I lost (brush off the dust, make a wish)"
  ];
  const defaultShowSpeed = 90;
  const slowShowSpeed = 160; // ещё медленнее для коротких строк
  const hideSpeed = 22;
  const pause = 600;

  function typeLine(line, cb) {
    let i = 0;
    el.textContent = '';
    const showSpeed = line.length < 18 ? slowShowSpeed : defaultShowSpeed;
    function type() {
      if (i < line.length) {
        el.textContent += line[i++];
        setTimeout(type, showSpeed);
      } else {
        setTimeout(() => cb(), pause);
      }
    }
    type();
  }

  function eraseLine(cb) {
    let str = el.textContent;
    function erase() {
      if (str.length > 0) {
        str = str.slice(0, -1);
        el.textContent = str.length === 0 ? '\u200B' : str; // невидимый символ если пусто
        setTimeout(erase, hideSpeed);
      } else {
        cb();
      }
    }
    erase();
  }

  function runLyrics(idx = 0) {
    if (idx >= lyrics.length) {
      // После трека — обычная надпись "i'm alive"
      typeLine("i'm alive", ()=>{});
      return;
    }
    typeLine(lyrics[idx], () => {
      eraseLine(() => runLyrics(idx + 1));
    });
  }

  setTimeout(() => runLyrics(0), 600);
});

/* "Кривой" рандомный текст в стиле Minecraft, по центру, фиксированной длины, цвет белый */
window.addEventListener('DOMContentLoaded', () => {
  const lyrics = [
    "I have more",
    "To live for",
    "There's a note in a bottle",
    "Washed ashore",
    "I hear waves",
    "Sing my name",
    "Saying no matter how hard",
    "There's a way",
    "Though I cry",
    "All the time",
    "And struggle out of bed",
    "I'm alive",
    "And I'll live",
    "For myself",
    "For the ones that I love",
    "For the ones that I lost",
    "Dragging my foot forward",
    "Laced with scars and wounds that still hurt",
    "It's so unfair that I'm still here",
    "But I know you'd tell me if you were here",
    "To get up and start moving, what do you fear",
    "Everything is as you left it",
    "Brush off the dust, make a wish",
    "Though I cry",
    "All the time",
    "And struggle out of bed",
    "I'm alive",
    "I'm alive",
    "I'm alive",
    "I'm alive",
    "And I'll live (as you left it— you left it)",
    "For myself (everything is as you left it— you left it)",
    "For the ones that I love (everything is as you left it— you left it)",
    "For the ones that I lost (brush off the dust, make a wish)"
  ];
  const randomZone = document.getElementById('lyricsRandomized');
  if(!randomZone) return;

  const chars = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*()_+-=,.<>/?|[]{}~';
  let idx = 0;
  let currentLine = lyrics[0];
  let animInterval = null;
  let lineInterval = null;

  // вычисляем максимальную длину строки
  const maxLen = Math.max(...lyrics.map(l => l.length));

  function getObfuscated(str) {
    // дополняем строку пробелами справа до maxLen
    let padded = str.padEnd(maxLen, ' ');
    return padded.split('').map((ch, i) => {
      // не меняем пробелы и знаки препинания
      if (' (),.—\''.includes(ch)) return ch;
      // если это добавленный пробел — оставляем пробел
      if (i >= str.length) return ' ';
      // с вероятностью 0.7 заменяем на рандомный символ
      if (Math.random() < 0.7) return chars[Math.floor(Math.random() * chars.length)];
      return ch;
    }).join('');
  }

  function startObfuscation(line) {
    if (animInterval) clearInterval(animInterval);
    animInterval = setInterval(() => {
      randomZone.textContent = getObfuscated(line);
    }, 60);
  }

  function nextLine() {
    currentLine = lyrics[idx];
    idx = (idx + 1) % lyrics.length;
    startObfuscation(currentLine);
  }

  nextLine();
  if (lineInterval) clearInterval(lineInterval);
  lineInterval = setInterval(nextLine, 2000);
});

// "Minecraft"-style animated title
(function animateTitle() {
  const base = "XDXDXD";
  const chars = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*()_+-=,.<>/?|[]{}~';
  let visible = true;
  setInterval(() => {
    let out = '';
    for (let i = 0; i < base.length; ++i) {
      // 70% шанс заменить символ на рандомный
      out += Math.random() < 0.7 ? chars[Math.floor(Math.random() * chars.length)] : base[i];
    }
    document.title = out;
  }, 90);
})();

</script>
</body>
</html>
